!function(){var a=function(a,b){this.$el=$(a),this.defaults={images:null,cursor:"default",draggable:!1},this.options=$.extend(this.defaults,b)};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{initialize:function(){this.options.interactive&&(this.options.cursor="pointer",this.options.draggable=!0),this.plugin=this.$el.find(".component"),this.plugin.attr("width",this.plugin.width()),this.plugin.attr("height",this.plugin.height()),console.debug("instance reel with options",this.options),this.plugin.reel(this.options)},dispose:function(){this.plugin&&this.plugin.unreel()}}),window.ComponentReel=a}(),function(){var a=function(a,b){this.$el=$(a),this.elementId=this.$el.attr("id"),this.defaults={loop:!0,delay:.5,duration:1,sound:null},this.options=$.extend(this.defaults,b)};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{transitioning:!1,frontVisible:!0,imageIndex:-1,sound:null,initialize:function(){if(this.initSound(),this.plugin=this.$el.find(".component"),this.items=this.$el.find(".item"),this.itemsCount=this.items.length,console.debug("this.itemsCount",this.itemsCount),0===this.itemsCount)return void console.error("carousel must have at least one item");console.error(this.elementId+": Carousel initialize");var a=$(this.items.get(0));a.css("width",a.width()),a.css("height",a.height()),this.plugin.css("width",$(this.items.get(0)).width()),this.plugin.css("height",$(this.items.get(0)).height()),this.prepareItems(),this.options.interactive&&(this.options.loop=!1),this.options.interactive&&(this.$el.on("click",$.proxy(this.clickComponent,this)),this.$el.addClass("interactive")),this.options.loop&&(this.setupNextPair(),this.showNext())},prepareItems:function(){console.debug(this.elementId+":prepareItems"),this.items||(this.items=this.$el.find(".item")),this.items.hide();var a=this;this.items.each(function(b,c){var d=$(c);d.css("position","absolute"),d.css("top",0),d.css("left",0),d.css("zIndex",a.items.length-1-b),d.css("height",a.plugin.height()),d.css("width",a.plugin.width()),console.debug("index",b,d.css("zIndex"))}),$(this.items.get(0)).show().fadeTo(0,1).css("zIndex",1001)},setupNextPair:function(){console.debug(this.elementId+":setupNextPair"),this.imageIndex+1>=this.itemsCount&&(this.imageIndex=-1),this.imageIndex++;var a=this.imageIndex,b=this.imageIndex+1;b>=this.itemsCount&&(b=0),console.debug("will transition from ",a," to ",b),this.front=$(this.items.get(a)),this.back=$(this.items.get(b)),this.items.hide()},clickComponent:function(){this.transitioning||(console.debug(this.elementId+":clickComponent",this.frontVisible),this.setupNextPair(),this.showNext(),this.sound.playSound("click"))},showNext:function(){console.debug(this.elementId+": showNext",this.frontVisible,"duration",this.options.duration),this.disposeTransitions(),this.front.show().css("zIndex",1001),this.back.show().css("zIndex",1e3),this.transitioning=!0,TweenMax.to(this.front,this.options.duration,{alpha:0,delay:this.options.delay}),TweenMax.to(this.back,this.options.duration,{delay:this.options.delay,alpha:1,onComplete:$.proxy(this.onNextVisible,this)})},onNextVisible:function(){this.frontVisible=!1,console.debug(this.elementId+":onNextVisible frontVisible?",this.frontVisible),this.transitioning=!1,this.options.loop&&(this.setupNextPair(),this.showNext())},disposeTransitions:function(){TweenMax.killTweensOf(this.front),TweenMax.killTweensOf(this.back)},stopLooping:function(){this.options.loop&&(this.options.loop=!1)},initSound:function(){this.sound=new window.ComponentSound,this.options.sound&&this.sound.registerSoundFullPath(this.options.sound)},disposeSound:function(){this.sound&&(this.sound.removeAllSounds(),delete this.sound)},dispose:function(){this.plugin&&(console.error(this.elementId+": Carousel dispose"),this.$el.off(),this.stopLooping(),this.disposeTransitions(),this.prepareItems(),this.imageIndex=-1,this.transitioning=!1)}}),window.ComponentCarousel=a}(),function(){var a=function(a,b){this.$el=$(a),this.defaults={mode:"fade",pager:!1,controls:!1,responsive:!0,auto:!0},this.options=$.extend(this.defaults,b)};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{initialize:function(){this.options.interactive&&(this.options.auto=!1,delete this.options.interactive),delete this.options.sound,delete this.options.duration,console.debug("instance bxSlider with options",this.options);this.$el.attr("id");this.plugin=$(".bxslider").bxSlider(this.options)},dispose:function(){this.plugin}}),window.ComponentCarousel=a}(),function(){var a=function(a,b){this.options=b,this.$el=$(a)};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{initialize:function(){console.debug("ComponentEasy initialize")},dispose:function(){}}),window.ComponentEasy=a}(),function(){var a=function(a,b){this.$el=$(a),this.defaults={loop:!0,delay:0,duration:2,sound:null},this.options=$.extend(this.defaults,b)};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{transitioning:!1,frontVisible:!0,initialize:function(){this.plugin=this.$el.find(".component"),this.plugin&&(console.debug("ComponentFade initialize"),this.initSound(),this.front=this.$el.find(".front").show(),this.back=this.$el.find(".back").show(),this.front.attr("width",this.front.width()),this.front.attr("height",this.front.height()),this.plugin.css("width",this.front.width()),this.plugin.css("height",this.front.height()),this.front.css("position","absolute"),this.front.css("top",0),this.front.css("left",0),this.front.css("height",this.plugin.height()),this.front.css("width",this.plugin.width()),this.back.css("position","absolute"),this.back.css("top",0),this.back.css("left",0),this.back.css("height",this.plugin.height()),this.back.css("width",this.plugin.width()),this.options.interactive&&(this.options.loop=!1),this.options.interactive&&(this.options.duration/=2,this.plugin.on("click",$.proxy(this.clickComponent,this)),this.plugin.addClass("interactive"),this.initSound()),this.options.loop&&this.toggleImage())},clickComponent:function(){console.debug("clickComponent"),this.transitioning||(this.sound.playSound("click"),this.toggleImage())},toggleImage:function(){console.debug("toggleImage",this.frontVisible),this.frontVisible?this.showBack():this.showFront()},showBack:function(){var a=this;TweenMax.killTweensOf(this.front),TweenMax.killTweensOf(this.back),a.transitioning=!0,TweenMax.to(this.front,this.options.duration,{alpha:0}),TweenMax.to(this.back,this.options.duration,{delay:this.options.delay,alpha:1,onComplete:function(){a.frontVisible=!1,a.transitioning=!1,a.options.loop&&a.toggleImage()}})},showFront:function(){var a=this;this.transitioning=!0,TweenMax.killTweensOf(this.front),TweenMax.killTweensOf(this.back),TweenMax.to(this.front,this.options.duration,{alpha:1}),TweenMax.to(this.back,this.options.duration,{delay:this.options.delay,alpha:0,onComplete:function(){a.frontVisible=!0,a.transitioning=!1,a.options.loop&&a.toggleImage()}})},stopLooping:function(){this.options&&(this.options.loop=!1)},initSound:function(){console.debug("initSound",this.options.sound),this.sound=new window.ComponentSound,this.options.sound&&this.sound.registerSoundFullPath(this.options.sound)},disposeSound:function(){this.sound&&(this.sound.removeAllSounds(),delete this.sound)},dispose:function(){this.disposeSound(),this.$el.off(),this.stopLooping(),this.frontVisible||(this.showFront(),this.back.hide())}}),window.ComponentFade=a}(),function(){var a=function(a,b){console.debug("constructor",arguments),this.options=b,this.$el=a};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{initialize:function(){console.debug("initialize",arguments)},dispose:function(){console.debug("dispose")}}),window.ComponentMenu=a}(),function(){var a=function(a,b){this.$el=$(a),this.defaults={minScale:0,hqSrc:null,maxZoom:1},this.options=$.extend(this.defaults,b)};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{zoomIn:!1,originalImage:null,hqImage:null,initialize:function(){if(this.plugin=this.$el.find(".component"),this.plugin){console.debug("initialize",arguments),this.initSound();var a=$("<div class='pancontainer'></div>");a.attr("width",this.plugin.width()),a.attr("height",this.plugin.height()),a.css("width",this.plugin.width()),a.css("height",this.plugin.height()),this.plugin.wrap(a),this.originalimage=this.plugin.attr("src"),console.debug("original",this.originalimage),this.hqImage=this.options.hqSrc?this.options.hqSrc:this.originalimage,this.plugin.on("dblclick",$.proxy(this.clickComponent,this)),this.plugin.addClass("interactive"),console.debug("Instance plugin  panzoom with options",this.options),this.plugin.panzoom({})}},clickComponent:function(){console.debug("clickComponent"),this.sound.playSound("click"),this.toggleZoom()},swapSource:function(a){this.plugin.attr("src",a)},toggleZoom:function(){console.debug("toggleZoom this.zoomIn",this.zoomIn),this.zoomIn?(this.plugin.panzoom("reset"),this.zoomIn=!1,this.swapSource(this.originalimage)):(this.swapSource(this.hqImage),this.plugin.panzoom("zoom",this.options.maxZoom,{animate:!0}),this.zoomIn=!0)},initSound:function(){this.sound=new window.ComponentSound,this.options.sound&&this.sound.registerSoundFullPath(this.options.sound)},disposeSound:function(){this.sound&&(this.sound.removeAllSounds(),delete this.sound)},dispose:function(){this.disposeSound(),this.plugin&&(this.plugin.panzoom("reset"),this.zoomIn=!1,this.swapSource(this.originalimage),this.plugin.off(),this.plugin.panzoom("destroy"),this.plugin.unwrap())}}),window.ComponentPan=a}();var instancesPool=[],preloadAssets=function(){},Modules={"image-fade":{preload:function(a,b){var c=new window.ComponentFade(a,b);c.preload(),instancesPool[a.id]=c},init:function(a){instancesPool[a.id]&&instancesPool[a.id].initialize()},remove:function(a){instancesPool[a.id]&&instancesPool[a.id].dispose()}},"image-360":{preload:function(a,b){var c=new window.ComponentReel(a,b);c.preload(),instancesPool[a.id]=c},init:function(a){instancesPool[a.id]&&instancesPool[a.id].initialize()},remove:function(a){instancesPool[a.id]&&instancesPool[a.id].dispose()}},"video-clip":{preload:function(a,b){var c=new window.ComponentVideo(a,b);c.preload(),instancesPool[a.id]=c},init:function(a){instancesPool[a.id]&&instancesPool[a.id].initialize()},remove:function(a){instancesPool[a.id]&&instancesPool[a.id].dispose()}},"image-easy":{preload:function(a,b){var c=new window.ComponentEasy(a,b);c.preload(),instancesPool[a.id]=c},init:function(a){instancesPool[a.id]&&instancesPool[a.id].initialize()},remove:function(a){instancesPool[a.id]&&instancesPool[a.id].dispose()}},"image-pan":{preload:function(a,b){var c=new window.ComponentPan(a,b);c.preload(),instancesPool[a.id]=c},init:function(a){instancesPool[a.id]&&instancesPool[a.id].initialize()},remove:function(a){instancesPool[a.id]&&instancesPool[a.id].dispose()}},carousel:{preload:function(a,b){if(!instancesPool[a.id]){var c=new window.ComponentCarousel(a,b);c.preload(),instancesPool[a.id]=c}},init:function(a){instancesPool[a.id]&&instancesPool[a.id].initialize()},remove:function(a){instancesPool[a.id]&&(instancesPool[a.id].dispose(),delete instancesPool[a.id])}}};$(".box").attr("data-emit-events","data-emit-events"),$(".box").attr("data-top-bottom","").attr("data-bottom-top",""),skrollr.init({forceHeight:!0,keyframe:function(a,b,c){console.log(b,c);var d=Modules[a.getAttribute("obj-type")],e=a.getAttribute("obj-config");if(e=$.parseJSON(e),"down"===c)switch(b){case"dataTopBottom":console.log("REMOVE",a.id),d.remove(a,e);break;case"dataBottomTop":console.log("INIT",a.id),d.preload(a,e),d.init(a,e)}else switch(b){case"dataTopBottom":console.log("INIT",a.id),d.preload(a,e),d.init(a,e);break;case"dataBottomTop":console.log("REMOVE",a.id),d.remove(a,e)}}}),function(){var a="click",b=function(a){a||(a={}),this.defaults={audioPath:"sounds/"},this.options=$.extend(this.defaults,a),this.initialize()};$.extend(b.prototype,{initialize:function(){createjs.Sound.alternateExtensions=["mp3"]},registerSoundFullPath:function(b,c){c||(c=a),console.debug("registerSoundFullPath",b,c),createjs.Sound.registerSound(b,c)},registerSoundById:function(a,b){var c,d=this.options.audioPath;b&&(d=b),c=d+a+".ogg",createjs.Sound.registerSound(c,a)},playSound:function(b){b||(b=a),createjs.Sound.initializeDefaultPlugins()&&createjs.Sound.play(b)},stopSound:function(){createjs.Sound.stop()},removeAllSounds:function(){if(createjs.Sound)try{createjs.Sound.removeAllSounds()}catch(a){}}}),window.ComponentSound=b}(),function(){var a=function(a,b){this.$el=$(a),this.defaults={autoplay:!0,interactive:!1,controls:!1,preload:"none",sound:null},this.options=$.extend(this.defaults,b)};$.extend(a.prototype,window.MixinPreloader),$.extend(a.prototype,{initialize:function(){this.video=this.options.id,console.debug("video initialize",this.options.id),this.options.id&&(this.options.interactive&&(this.options.autoplay=!1),this.plugin=videojs(this.options.id,this.options).ready($.proxy(this.checkInteract,this)))},checkInteract:function(){this.options.interactive?(this.$el.on("click",$.proxy(this.toggleVideoPlayback,this)),this.$el.addClass("interactive"),console.log("VID")):this.plugin.play()},toggleVideoPlayback:function(){this.plugin||console.error("clicking a video not inited"),this.initSound(),this.sound.playSound("click");var a=!0;try{a=this.plugin.paused()}catch(b){}console.debug("toggleVideoPlayback",this.plugin,this.plugin.paused()),a?this.plugin.play():this.plugin.pause()},initSound:function(){this.sound=new window.ComponentSound,this.options.sound&&this.sound.registerSoundFullPath(this.options.sound)},disposeSound:function(){this.sound&&(this.sound.removeAllSounds(),delete this.sound)},dispose:function(){if(this.plugin){this.disposeSound(),console.log("--->",this.plugin);try{this.plugin.pause(),this.plugin.currentTime(0),this.plugin.controlBar.hide(),this.plugin.controls(!1),this.$el.off()}catch(a){}}delete this.$el,delete this.plugin}}),window.ComponentVideo=a}(),function(){var a={preloaded:!1,preload:function(){return this.$el?this.preloaded?void this.initialize():(this.$el.find("*").each($.proxy(this.eachImage,this)),void(this.preloaded=!0)):void console.error("This component has no el")},eachImage:function(a,b){var c=$(b);c.attr("data-src")&&""!==c.attr("data-src")&&this.preloadElement(c)},preloadElement:function(a){console.error("preloadElement",a),a.attr("src",a.attr("data-src"));console.error("load Ajax",a.attr("data-src"))},loadedElement:function(){console.error("loadedElement",arguments)},stopPreload:function(){console.error("stopPreload",arguments)}};window.MixinPreloader=a}();